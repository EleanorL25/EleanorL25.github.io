<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eleanor Lindsey">

<title>Projects â€“ EleanorL25.github.io</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">EleanorL25.github.io</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Resume.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Projects.html" aria-current="page"> 
<span class="menu-text">Projects</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#class-projects" id="toc-class-projects" class="nav-link active" data-scroll-target="#class-projects">Class Projects</a>
  <ul class="collapse">
  <li><a href="#watershed-practicum" id="toc-watershed-practicum" class="nav-link" data-scroll-target="#watershed-practicum">Watershed Practicum</a></li>
  <li><a href="#environmental-internship" id="toc-environmental-internship" class="nav-link" data-scroll-target="#environmental-internship">Environmental Internship</a></li>
  </ul></li>
  <li><a href="#quantitative-reasoning-labs" id="toc-quantitative-reasoning-labs" class="nav-link" data-scroll-target="#quantitative-reasoning-labs">Quantitative Reasoning Labs</a>
  <ul class="collapse">
  <li><a href="#lab-2-minnesota-tree-growth" id="toc-lab-2-minnesota-tree-growth" class="nav-link" data-scroll-target="#lab-2-minnesota-tree-growth">lab 2: Minnesota Tree Growth</a></li>
  <li><a href="#lab-3-covid-wrangling" id="toc-lab-3-covid-wrangling" class="nav-link" data-scroll-target="#lab-3-covid-wrangling">Lab 3: COVID Wrangling</a></li>
  <li><a href="#lab-4-lter-network-data" id="toc-lab-4-lter-network-data" class="nav-link" data-scroll-target="#lab-4-lter-network-data">Lab 4: LTER Network Data</a></li>
  <li><a href="#lab-5-personal-project-proposal" id="toc-lab-5-personal-project-proposal" class="nav-link" data-scroll-target="#lab-5-personal-project-proposal">lab 5: Personal Project Proposal</a></li>
  <li><a href="#lab-6-ml-workflows" id="toc-lab-6-ml-workflows" class="nav-link" data-scroll-target="#lab-6-ml-workflows">Lab 6: ML Workflows</a></li>
  <li><a href="#lab-7-project-kickoff" id="toc-lab-7-project-kickoff" class="nav-link" data-scroll-target="#lab-7-project-kickoff">Lab 7: Project Kickoff</a></li>
  <li><a href="#lab-8-ml-tuning" id="toc-lab-8-ml-tuning" class="nav-link" data-scroll-target="#lab-8-ml-tuning">Lab 8: ML Tuning</a></li>
  <li><a href="#lab-9-resultsdiscussion-draft" id="toc-lab-9-resultsdiscussion-draft" class="nav-link" data-scroll-target="#lab-9-resultsdiscussion-draft">Lab 9: Results/Discussion Draft</a></li>
  <li><a href="#lab-10-distance-to-the-border" id="toc-lab-10-distance-to-the-border" class="nav-link" data-scroll-target="#lab-10-distance-to-the-border">Lab 10: Distance to the Border</a></li>
  <li><a href="#lab-11-lightning-talks" id="toc-lab-11-lightning-talks" class="nav-link" data-scroll-target="#lab-11-lightning-talks">Lab 11: Lightning Talks</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Projects</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Eleanor Lindsey </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="class-projects" class="level1">
<h1>Class Projects</h1>
<p>In the Spring semester of 2025 I took a class titled Quantitative Reasoning which was based in R. I wrote lots of code and put together some different projects. Below I have posted links to some of this work.</p>
<p>What I learned from this activity:</p>
<ul>
<li><p>How to connect projects to github</p></li>
<li><p>A more in depth view of Rstudio and the mechanics available to use</p></li>
<li><p>How to set up by folders to be better organized</p></li>
</ul>
<section id="watershed-practicum" class="level2">
<h2 class="anchored" data-anchor-id="watershed-practicum">Watershed Practicum</h2>
<p>Watershed practicum trip (Summer 2024). A group of watershed science students and I went on a week long trip along the Uncompahgre watershed and talked with professionals in various fields of environmental science. We learned how to use different field equipment.</p>
<p><img src="media/Watershed-Practicum Small.jpeg" class="img-fluid"></p>
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="media/Wetland.jpeg" class="img-fluid quarto-figure quarto-figure-right figure-img" width="318"></p>
</figure>
</div>
</section>
<section id="environmental-internship" class="level2">
<h2 class="anchored" data-anchor-id="environmental-internship">Environmental Internship</h2>
<p>Over the summer I worked as an intern for H2E, and environmental consultation company. While working with them I was able to go out and conduct vegetation and storm water assessments for various oil and gas sites. I compiled weekly reports and made map changes in ArcGIS when applicable.</p>
</section>
</section>
<section id="quantitative-reasoning-labs" class="level1">
<h1>Quantitative Reasoning Labs</h1>
<section id="lab-2-minnesota-tree-growth" class="level2">
<h2 class="anchored" data-anchor-id="lab-2-minnesota-tree-growth">lab 2: Minnesota Tree Growth</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 10.12.44 AM.png" class="img-fluid figure-img" width="578"></p>
<figcaption>Final question in Lab 2 pulling the top three fastest growing trees</figcaption>
</figure>
</div>
<p>From this lab I learned how to create tibbles and to filter data into a format that answers precise questions. I also learned how to use dplyr.</p>
</section>
<section id="lab-3-covid-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="lab-3-covid-wrangling">Lab 3: COVID Wrangling</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 10.22.15 AM.png" class="img-fluid figure-img" width="589"></p>
<figcaption>Final question in lab 3 creating a figure of the weighted mean covid center in the US</figcaption>
</figure>
</div>
<p>From this lab I learned more about flextables and how to read in data into R studio. I also gained confidence in mapping and data cleaning/assigning through this lab.</p>
</section>
<section id="lab-4-lter-network-data" class="level2">
<h2 class="anchored" data-anchor-id="lab-4-lter-network-data">Lab 4: LTER Network Data</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 10.28.11 AM.png" class="img-fluid figure-img" width="604"></p>
<figcaption>Exercises part 2: question 1 asking for a boxplot of the average crab width per site organized by latitude.</figcaption>
</figure>
</div>
<p>From this lab I learned a lot about R in general. I was exposed to correlation tests, graphing with detailed organization, and how to conduct linear regressions in R. I was also introduced to the ggpubr package in this lab which has continued to be implemented in labs throughout the semester.</p>
</section>
<section id="lab-5-personal-project-proposal" class="level2">
<h2 class="anchored" data-anchor-id="lab-5-personal-project-proposal">lab 5: Personal Project Proposal</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 10.34.10 AM.png" class="img-fluid figure-img" width="459"></p>
<figcaption>Personal project proposals added to a quarto manuscript.</figcaption>
</figure>
</div>
<p>This lab was a huge step forward in my understanding of what all R studio can accomplish. We created a quarto manuscript to create a draft website for our final project. This lab allowed my teammates and I to come up with two questions we could explore in R. I learned how to use a reference page in R to cite my sources, how to add other collaborators, how to organize a quarto manuscript, and further exercised my knowledge on personalizing a website page in R.</p>
</section>
<section id="lab-6-ml-workflows" class="level2">
<h2 class="anchored" data-anchor-id="lab-6-ml-workflows">Lab 6: ML Workflows</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 10.40.07 AM.png" class="img-fluid figure-img" width="571"></p>
<figcaption>Question 2 in lab 6 that compares daily precipitation to aridity within the US.</figcaption>
</figure>
</div>
<p>This lab marked the second half of the semester as it was the first lab back from spring break. The difference. between this lab and the earlier ones is that this lab strayed from basics in R and started getting into how researchers actually use R. I learned how to build, test, and use different models as well as how to decide which models are better than others depending on the data loaded into R. I also cemented knowledge on how to use ggplot2 to create intelligent graphs that describe and show data in a concise, clean way.</p>
</section>
<section id="lab-7-project-kickoff" class="level2">
<h2 class="anchored" data-anchor-id="lab-7-project-kickoff">Lab 7: Project Kickoff</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 10.45.04 AM.png" class="img-fluid figure-img" width="560"></p>
<figcaption>Results section of our project to depict the relationship between tree cover loss and temperature.</figcaption>
</figure>
</div>
<p>This lab was a continuation of lab 5 in that our group chose a research question and completed data analysis on a set of data we pulled, cleaned, and analyzed by ourselves. Through this lab I learned how to gather my own data, read it into R, clean it in R, and analyze it to answer a distinct question crafted by my team and I. I also learned how to use ggplotly to make our graphs more detailed.</p>
</section>
<section id="lab-8-ml-tuning" class="level2">
<h2 class="anchored" data-anchor-id="lab-8-ml-tuning">Lab 8: ML Tuning</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 11.01.41 AM.png" class="img-fluid figure-img" width="550"></p>
<figcaption>3x3 figure of relationships between various parameters of data in lab 8.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 11.02.07 AM.png" class="img-fluid figure-img" width="526"></p>
<figcaption>Graph of model testing for the final part of lab 8.</figcaption>
</figure>
</div>
<p>This lab was the second part to lab 6 (ML Workflow) and acted as the interpretation of the random forest model from the previous lab. I learned how to add a shadow to a line of best fit within ggplot2 and how to determine the accuracy of models in R. I also gained knowledge in the various models available to use in data interpretation in R.</p>
</section>
<section id="lab-9-resultsdiscussion-draft" class="level2">
<h2 class="anchored" data-anchor-id="lab-9-resultsdiscussion-draft">Lab 9: Results/Discussion Draft</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 11.06.21 AM.png" class="img-fluid figure-img" width="468"></p>
<figcaption>Discussion section of our final report for personal project.</figcaption>
</figure>
</div>
<p>This was the final draft of our report for the personal project. The lab as an accumulation of everything we have worked on including the research, data analysis, data visualization, results, and conclusion. From this lab I strengthened my interpretation skills as well as my knowledge on how to trouble shoot in R for various errors. I also learned how to rename a website without changing the name of the file.</p>
</section>
<section id="lab-10-distance-to-the-border" class="level2">
<h2 class="anchored" data-anchor-id="lab-10-distance-to-the-border">Lab 10: Distance to the Border</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 11.10.43 AM.png" class="img-fluid figure-img" width="569"></p>
<figcaption>graph of cities in the US that are qual distance from Canada as they are from Mexico.</figcaption>
</figure>
</div>
<p>This lab was one of my favorites if not my favorite. I learned so much more about ggplot and what all it can do. This was also the first lab where I felt like I understood what I was doing the entire lab. I learned how to color graphs on a scale rather than one solid color.</p>
</section>
<section id="lab-11-lightning-talks" class="level2">
<h2 class="anchored" data-anchor-id="lab-11-lightning-talks">Lab 11: Lightning Talks</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot 2025-05-07 at 11.15.29 AM.png" class="img-fluid figure-img" width="560"></p>
<figcaption>Conclusion slide from our groups lightning talk for lab.</figcaption>
</figure>
</div>
<p>This lab was just a presentation of everyoneâ€™s projects. ADD WHAT I LEARNED AFTER LAB TO ADD IF I LEARNED ANYTHING FROM OTHER PROJECTS.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>